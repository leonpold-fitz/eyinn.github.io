<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>简介 | EYinn</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon/favicon-vuesax.png">
    <meta name="description" content="Just playing around">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="msapplication-tap-highlight" content="no">
    
    <link rel="preload" href="/assets/css/0.styles.76bc953a.css" as="style"><link rel="preload" href="/assets/js/app.79790c22.js" as="script"><link rel="preload" href="/assets/js/3.b757694c.js" as="script"><link rel="preload" href="/assets/js/7.595dcd2c.js" as="script"><link rel="prefetch" href="/assets/js/4.6fb84941.js"><link rel="prefetch" href="/assets/js/5.e37c0d19.js"><link rel="prefetch" href="/assets/js/6.aab41713.js"><link rel="prefetch" href="/assets/js/8.f0f8cbbb.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.e78d7987.js">
    <link rel="stylesheet" href="/assets/css/0.styles.76bc953a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo/vuesax-logo.png" alt="EYinn" class="logo"> <span class="site-name can-hide">EYinn</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/contributors/" class="nav-link">
  F
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Ecosystem" class="dropdown-title"><span class="title">Ecosystem</span> <span class="arrow down"></span></button> <button type="button" aria-label="Ecosystem" class="mobile-dropdown-title"><span class="title">Ecosystem</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Social
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/lusaxweb/vuesax" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://medium.com/@luisdanielrovira8" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Medium
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Help
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/lusaxweb/vuesax/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/lusaxweb/vuesax" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Edit Page
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/lusaxweb/vuesax/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Latest Releases
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Contact
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://lusaxweb.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lusaxweb
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="mailto:vuesax@gmail.com" class="nav-link external">
  Email
  <!----></a></li><li class="dropdown-subitem"><a href="https://github.com/lusaxweb/vuesax/pulls" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Pull Request
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://codepen.io/lusaxweb/pen/mxMKYr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Codepen Template
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/git@github.com:leonpold-fitz/eyinn.github.io.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/contributors/" class="nav-link">
  F
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Ecosystem" class="dropdown-title"><span class="title">Ecosystem</span> <span class="arrow down"></span></button> <button type="button" aria-label="Ecosystem" class="mobile-dropdown-title"><span class="title">Ecosystem</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Social
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/lusaxweb/vuesax" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://medium.com/@luisdanielrovira8" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Medium
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Help
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/lusaxweb/vuesax/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/lusaxweb/vuesax" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Edit Page
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/lusaxweb/vuesax/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Latest Releases
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Contact
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://lusaxweb.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lusaxweb
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="mailto:vuesax@gmail.com" class="nav-link external">
  Email
  <!----></a></li><li class="dropdown-subitem"><a href="https://github.com/lusaxweb/vuesax/pulls" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Pull Request
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://codepen.io/lusaxweb/pen/mxMKYr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Codepen Template
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/git@github.com:leonpold-fitz/eyinn.github.io.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Development</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/src/basic/" aria-current="page" class="active sidebar-link">简介</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Layout</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Theme</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Components</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/src/basic/doc.html" class="sidebar-link">简介</a></li></ul></section></li></ul> </aside> <aside class="sidebar-map"><ul class="sidebar-links-map"><li><a href="/src/basic/#简介" aria-current="page" class="sidebar-link right-link">简介
      </a></li><li><a href="/src/basic/#准备工具" aria-current="page" class="sidebar-link right-link">准备工具
      </a></li><li><a href="/src/basic/#centos-安装-docker" aria-current="page" class="sidebar-link right-link">Centos 安装 Docker
      </a></li><li><a href="/src/basic/#docker-安装-mysql" aria-current="page" class="sidebar-link right-link">Docker 安装 MySQL
      </a></li><li><a href="/src/basic/#docker-安装-halo" aria-current="page" class="sidebar-link right-link">Docker 安装 Halo
      </a></li><li><a href="/src/basic/#申请免费-ssl-证书" aria-current="page" class="sidebar-link right-link">申请免费 SSL 证书
      </a></li><li><a href="/src/basic/#centos-安装-nginx" aria-current="page" class="sidebar-link right-link">Centos 安装 Nginx
      </a></li><li><a href="/src/basic/#完结" aria-current="page" class="sidebar-link right-link">完结
      </a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <p>本文介绍 Centos8 使用 Docker 安装 Halo 博客，并使用 Nginx 扩展工具 ngx_pagespeed 进行页面加速。</p> <h2 id="准备工具"><a href="#准备工具" class="header-anchor">#</a> 准备工具</h2> <p>VPS [ 云服务器 ]
Centos8
<a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/" target="_blank" rel="noopener noreferrer">PuTTY<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> [ SSH 连接工具 ]
Docker [ halo, mysql ]<a href="https://freessl.cn/" target="_blank" rel="noopener noreferrer">ssl 证书<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
Nginx [ ngx_pagespeed ]</p> <h2 id="centos-安装-docker"><a href="#centos-安装-docker" class="header-anchor">#</a> Centos 安装 Docker</h2> <blockquote><p><a href="https://www.runoob.com/linux/linux-command-manual.html" target="_blank" rel="noopener noreferrer">Linux 命令大全<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="_1-更新系统软件包"><a href="#_1-更新系统软件包" class="header-anchor">#</a> 1. 更新系统软件包</h6> <blockquote><p>yum update：升级所有包，同时也升级软件和系统内核。
yum upgrade：只升级所有包，不升级软件和系统内核。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo yum upgrade -y
</code></pre></div><h6 id="_2-安装依赖"><a href="#_2-安装依赖" class="header-anchor">#</a> 2. 安装依赖</h6> <blockquote><p>后续安装 Docker &amp; 编译 Nginx 必备。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo yum install -y yum-utils device-mapper-persistent-data lvm2 gcc-c++ pcre-devel zlib-devel libuuid-devel zip wget gcc-c++ ncurses ncurses-devel cmake make perl bison openssl openssl-devel gcc* libxml2 libxml2-devel curl-devel libjpeg* libpng* freetype*
</code></pre></div><h6 id="_3-添加软件源"><a href="#_3-添加软件源" class="header-anchor">#</a> 3. 添加软件源</h6> <blockquote><p>阿里云软件源。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre></div><h6 id="_4-更新-yum-缓存"><a href="#_4-更新-yum-缓存" class="header-anchor">#</a> 4. 更新 yum 缓存</h6> <div class="language- extra-class"><pre class="language-text"><code>sudo yum makecache fast
</code></pre></div><h6 id="_5-更新-containerd-io-版本并安装"><a href="#_5-更新-containerd-io-版本并安装" class="header-anchor">#</a> 5. 更新 containerd.io 版本并安装</h6> <blockquote><p>原 containerd.io 版本与 Docker 要求不符。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo wget https://download.docker.com/linux/centos/7/x86_64/edge/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm &amp;&amp; yum install -y containerd.io-1.2.6-3.3.el7.x86_64.rpm
</code></pre></div><h6 id="_6-安装-docker"><a href="#_6-安装-docker" class="header-anchor">#</a> 6. 安装 Docker</h6> <div class="language- extra-class"><pre class="language-text"><code>sudo yum install docker-ce docker-ce-cli containerd.io -y
</code></pre></div><h6 id="_7-启动-docker"><a href="#_7-启动-docker" class="header-anchor">#</a> 7. 启动 Docker</h6> <blockquote><p>如需要 Docker 开机启动，执行该命令。 sudo systemctl enable docker</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo systemctl start docker
</code></pre></div><h6 id="_8-docker-镜像加速"><a href="#_8-docker-镜像加速" class="header-anchor">#</a> 8. Docker 镜像加速</h6> <blockquote><p>该命令创建 daemon.json 文件。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo vim /etc/docker/daemon.json
</code></pre></div><h6 id="_9-设置配置参数"><a href="#_9-设置配置参数" class="header-anchor">#</a> 9. 设置配置参数</h6> <blockquote><p>复制并右键粘贴至 daemon.json 使用 :wq 保存。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;registry-mirrors&quot;: [&quot;http://hub-mirror.c.163.com&quot;]
}
</code></pre></div><h6 id="_10-重载配置-重启-docker"><a href="#_10-重载配置-重启-docker" class="header-anchor">#</a> 10. 重载配置 &amp; 重启 Docker</h6> <blockquote></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo systemctl daemon-reload &amp;&amp; systemctl restart docker
</code></pre></div><h2 id="docker-安装-mysql"><a href="#docker-安装-mysql" class="header-anchor">#</a> Docker 安装 MySQL</h2> <blockquote><p><a href="https://www.runoob.com/docker/docker-command-manual.html" target="_blank" rel="noopener noreferrer">Docker 命令大全<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h6 id="_1-拉取-mysql-镜像"><a href="#_1-拉取-mysql-镜像" class="header-anchor">#</a> 1. 拉取 MySQL 镜像</h6> <blockquote><p>默认最新版本，如需指定版本 sudo docker pull mysql:版本号</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo docker pull mysql
</code></pre></div><h6 id="_2-运行-mysql-容器"><a href="#_2-运行-mysql-容器" class="header-anchor">#</a> 2. 运行 MySQL 容器</h6> <blockquote><p>默认用户 root ，<code>{密码}</code> 请自行设置。 [ 替换时包括花括号 ]</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>docker run --restart=always -it -d --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD={密码} mysql
</code></pre></div><h6 id="_3-进入-mysql-容器"><a href="#_3-进入-mysql-容器" class="header-anchor">#</a> 3. 进入 MySQL 容器</h6> <blockquote><p><a href="https://www.runoob.com/mysql/mysql-tutorial.html" target="_blank" rel="noopener noreferrer">MySQL 教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo docker exec -it mysql bash
</code></pre></div><h6 id="_4-登录到-mysql"><a href="#_4-登录到-mysql" class="header-anchor">#</a> 4. 登录到 MySQL</h6> <blockquote><p>根据提示输入<code>密码</code>，按下 Enter 键登录。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>mysql -uroot -p
</code></pre></div><h6 id="_5-创建数据库"><a href="#_5-创建数据库" class="header-anchor">#</a> 5. 创建数据库</h6> <blockquote><p>创建 halo 数据库（必须带分号，提示 <code>Query OK</code> 则创建成功），后续用作 Halo 配置中。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>create database halo;
</code></pre></div><h6 id="_6-退出容器"><a href="#_6-退出容器" class="header-anchor">#</a> 6. 退出容器</h6> <blockquote><p>务必执行两次 <code>exit</code>，第一次退出 MySQL，第二次退出 MySQL 容器。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>exit
</code></pre></div><h2 id="docker-安装-halo"><a href="#docker-安装-halo" class="header-anchor">#</a> Docker 安装 Halo</h2> <h6 id="_1-下载-halo-配置文件"><a href="#_1-下载-halo-配置文件" class="header-anchor">#</a> 1. 下载 Halo 配置文件</h6> <blockquote><p>由于进入容器修改配置需要 vim，而容器中没有安装 vim 安装又太慢，我们选择挂载自定义配置。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>curl -o ~/halo/application.yaml --create-dirs https://dl.halo.run/config/application-template.yaml
</code></pre></div><h6 id="_2-修改配置文件"><a href="#_2-修改配置文件" class="header-anchor">#</a> 2. 修改配置文件</h6> <div class="language- extra-class"><pre class="language-text"><code>vim ~/halo/application.yaml
</code></pre></div><h6 id="_3-替换数据库"><a href="#_3-替换数据库" class="header-anchor">#</a> 3. 替换数据库</h6> <blockquote><p>我们选择使用刚刚创建 MySQL 数据库并指定库名 halo。
设置 <code>{ip}</code> 请勿使用 127.0.0.1（Halo 与 MySQL 不在同一容器内）。
设置 <code>{密码}</code> 填入 root 用户的密码。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>server:
  port: 8090
spring:
  datasource:

    # MySQL Database
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://{ip}:3306/halo?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;allowPublicKeyRetrieval=true
    username: root
    password: {密码}
</code></pre></div><h6 id="_4-拉取-halo-镜像"><a href="#_4-拉取-halo-镜像" class="header-anchor">#</a> 4. 拉取 Halo 镜像</h6> <blockquote><p>默认为最新镜像。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo docker pull ruibaby/halo
</code></pre></div><h6 id="_5-启动-halo"><a href="#_5-启动-halo" class="header-anchor">#</a> 5. 启动 Halo</h6> <blockquote><p>创建容器并运行，指定映射自定义配置文件路径。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>docker run --restart=always -it -d --name halo -p 8090:8090  -v ~/halo/:/root/.halo ruibaby/halo
</code></pre></div><h6 id="_6-关于-halo-其他事项"><a href="#_6-关于-halo-其他事项" class="header-anchor">#</a> 6. 关于 Halo 其他事项</h6> <blockquote><p>现在已经可以访问 Halo 博客了，输入 VPS 公网 ip：8090 即可进行 Halo 博客向导。
但是由于手机端访问速度属实感人，我不得不再折腾一番使用 ngx_pagespeed 进行页面加速。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code># 如需更新 Halo 版本(配置和博客内容数据已经存入 MySQL 数据库中)

# 删除容器
sudo docker rm -f halo &amp;&amp; sudo docker rmi ruibaby/halo

# 拉取最新的 Halo 镜像
sudo docker pull ruibaby/halo

# 创建容器
docker run --restart=always -it -d --name halo -p 8090:8090  -v ~/halo/:/root/.halo ruibaby/halo
</code></pre></div><h2 id="申请免费-ssl-证书"><a href="#申请免费-ssl-证书" class="header-anchor">#</a> 申请免费 SSL 证书</h2> <h6 id="_1-申请-ssl-证书"><a href="#_1-申请-ssl-证书" class="header-anchor">#</a> 1. <a href="https://freessl.cn/" target="_blank" rel="noopener noreferrer">申请 SSL 证书<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h6> <blockquote><p>选择 <code>多域名通配符</code> 输入你的域名，点击创建证书。</p></blockquote> <p><img src="http://81.68.188.211:802/upload/2020/09/freessl1-ba6c7412be4b4260bda0bd2fb6955185.png" alt="freessl1.png"></p> <blockquote><p>输入 <code>邮箱</code>，选择 <code>一键申请</code> 根据提示下载 <code>KeyManager</code> 等待证书生成。</p></blockquote> <p><img src="http://81.68.188.211:802/upload/2020/09/freessl2-171355e019b14d1597abd2c652437577.png" alt="freessl2.png"></p> <h6 id="_2-部署证书"><a href="#_2-部署证书" class="header-anchor">#</a> 2. 部署证书</h6> <blockquote><p>在 <code>证书管理</code> 界面，点击 <code>一键部署</code>。</p></blockquote> <p><img src="http://81.68.188.211:802/upload/2020/09/freessl3-3888ab67959a43b2a48c90b7c31efaac.png" alt="freessl3.png"></p> <blockquote><p>选择 <code>部署到Nginx/Apache</code>，点击 <code>添加部署信息</code>。</p></blockquote> <p><img src="http://81.68.188.211:802/upload/2020/09/freessl4-d13e72c05e3244c9863ecb6abec41906.png" alt="freessl4.png"></p> <blockquote><p>输入连接信息后保存，并点击 <code>一键部署</code>。
<code>##</code> 此时会提示 <code>nginx命令</code> 错误信息，不必惊慌 证书文件已经上传到服务器了。
（报错原因：未安装 <code>nginx</code>，未配置 <code>nginx全局命令</code>） <code>##</code></p></blockquote> <p><img src="http://81.68.188.211:802/upload/2020/09/freessl5-ccbed578ef3540369f6e28c912ac5165.png" alt="freessl5.png"></p> <h2 id="centos-安装-nginx"><a href="#centos-安装-nginx" class="header-anchor">#</a> Centos 安装 Nginx</h2> <h6 id="_1-下载-nginx-1-19-10"><a href="#_1-下载-nginx-1-19-10" class="header-anchor">#</a> 1. 下载 nginx 1.19.10</h6> <blockquote><p>将 nginx 压缩包解压到 /root/nginx 目录。
<code>##</code> 当前 nginx 文件夹为源码文件，编译后运行目录在 /usr/loacl/nginx/ 请不要记混<code>##</code></p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>wget http://nginx.org/download/nginx-1.9.10.tar.gz &amp;&amp; tar zxvf nginx-1.9.10.tar.gz -C /root/ &amp;&amp; mv /root/nginx-1.9.10 /root/nginx
</code></pre></div><h6 id="_2-下载-ngx-pagespeed。"><a href="#_2-下载-ngx-pagespeed。" class="header-anchor">#</a> 2. 下载 ngx_pagespeed。</h6> <blockquote><p>将 ngx_pagespeed 压缩包解压到 /root/ngx-pagespeed 目录。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>wget https://github.com/pagespeed/ngx_pagespeed/archive/v1.13.35.2-stable.tar.gz &amp;&amp;  tar zxf v1.13.35.2-stable.tar.gz -C /root/ &amp;&amp; mv /root/v1.13.35.2-stable /root/ngx-pagespeed
</code></pre></div><h6 id="_3-下载-ngx-pagespeed-依赖包-posl"><a href="#_3-下载-ngx-pagespeed-依赖包-posl" class="header-anchor">#</a> 3. 下载 ngx_pagespeed 依赖包 posl</h6> <blockquote><p>将 posl 压缩包解压到 /root/ngx-pagespeed/ 目录。
<code>##</code> posl 必须放在 ngx-pagespeed 目录下 <code>##</code></p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>cd /root/ngx-pagespeed/ &amp;&amp; wget https://dl.google.com/dl/page-speed/psol/1.13.35.2-x64.tar.gz &amp;&amp; tar zxf 1.13.35.2-x64.tar.gz
</code></pre></div><h6 id="_4-编译-nginx"><a href="#_4-编译-nginx" class="header-anchor">#</a> 4. 编译 nginx</h6> <blockquote><p>将 ngx-pagespeed 编译到 nginx。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>cd /root/nginx/ &amp;&amp; ./configure --add-module=/root/ngx-pagespeed --user=nobody --group=nobody --with-http_stub_status_module --with-http_v2_module --with-http_ssl_module --with-http_gzip_static_module
</code></pre></div><h6 id="_5-安装-nginx"><a href="#_5-安装-nginx" class="header-anchor">#</a> 5. 安装 nginx</h6> <blockquote><p>nginx 默认安装路径为 /usr/local/nginx。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>make &amp;&amp; make install
</code></pre></div><h6 id="_6-配置-nginx-service"><a href="#_6-配置-nginx-service" class="header-anchor">#</a> 6. 配置 nginx.service</h6> <blockquote><p>将 nginx 启动文件配置到系统项。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>vi /lib/systemd/system/nginx.service
</code></pre></div><blockquote><p>复制下方配置，右键粘贴到 nginx.service 中，并 <code>:wq</code> 保存。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>[Unit]
Description=nginx
After=network.target

[Service]
Type=forking
ExecStart=/usr/local/nginx/sbin/nginx
ExecReload=/usr/local/nginx/sbin/nginx -s reload
ExecStop=/usr/local/nginx/sbin/nginx -s quit
PrivateTmp=true

[Install]
WantedBy=multi-user.target
</code></pre></div><h6 id="_7-配置-pagespeed-conf-文件"><a href="#_7-配置-pagespeed-conf-文件" class="header-anchor">#</a> 7. 配置 pagespeed.conf 文件</h6> <blockquote><p>由于引用 ngx_pagespeed 需要在 nginx server 块中配置，我们拿出相同配置放入 pagespeed.conf 中方便引用。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>vim /usr/local/nginx/conf/pagespeed.conf
</code></pre></div><blockquote><p>复制下方配置，右键粘贴到 pagespeed.conf 中，并 <code>:wq</code> 保存。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code># on 启用，off 关闭
pagespeed on;

# 重置 http Vary 头
pagespeed RespectVary on;

# html字符转小写
pagespeed LowercaseHtmlNames on;

# 压缩带 Cache-Control: no-transform 标记的资源
pagespeed DisableRewriteOnNoTransform off;

# 相对URL
pagespeed PreserveUrlRelativity on;

# 开启 https
pagespeed FetchHttps enable;

# 配置服务器缓存位置和自动清除触发条件，缓存文件夹如果不存在则需要自行创建，建议放在内存中
pagespeed FileCachePath &quot;/dev/shm/ngx_pagespeed/&quot;;
pagespeed FileCacheSizeKb 2048000;
pagespeed FileCacheCleanIntervalMs 43200000;
pagespeed FileCacheInodeLimit 500000;

# 过滤规则
pagespeed RewriteLevel PassThrough;

# 过滤WordPress的/wp-admin/目录(可选配置，可参考使用)
pagespeed Disallow &quot;*/wp-admin/*&quot;;
pagespeed Disallow &quot;*/wp-login.php*&quot;;

# 移除不必要的url前缀，开启可能会导致某些自动加载功能失效
#pagespeed EnableFilters trim_urls;

# 移除 html 空白
pagespeed EnableFilters collapse_whitespace;

# 移除 html 注释
pagespeed EnableFilters remove_comments;

# DNS 预加载
pagespeed EnableFilters insert_dns_prefetch;

# 压缩CSS
pagespeed EnableFilters rewrite_css;

# 合并CSS
pagespeed EnableFilters combine_css;

# 重写CSS，优化加载渲染页面的CSS规则
pagespeed EnableFilters prioritize_critical_css;

# 压缩js
pagespeed EnableFilters rewrite_javascript;

# 合并js
pagespeed EnableFilters combine_javascript;

# 优化内嵌样式属性
pagespeed EnableFilters rewrite_style_attributes;

# 压缩图片
pagespeed EnableFilters rewrite_images;

# 不加载显示区域以外的图片
pagespeed LazyloadImagesAfterOnload off;

# 图片预加载
pagespeed EnableFilters inline_preview_images;

# 移动端图片自适应重置
pagespeed EnableFilters resize_mobile_images;

# 图片延迟加载
pagespeed EnableFilters lazyload_images;

# 扩展缓存 改善页面资源的可缓存性
pagespeed EnableFilters extend_cache;
</code></pre></div><h6 id="_8-配置-nginx-conf"><a href="#_8-配置-nginx-conf" class="header-anchor">#</a> 8. 配置 nginx.conf</h6> <blockquote><p>考虑到配置繁琐，我去除了注释信息以便后续修改。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>vim /usr/local/nginx/conf/nginx.conf
</code></pre></div><blockquote><p>复制下方配置，右键粘贴到 nginx.conf 中，注意替换注释处配置信息后再 <code>:wq</code> 保存。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code># 可根据自己的服务器核心数配置
worker_processes  1;

events {
    worker_connections  1024;
}

http {

    gzip on;

    gzip_min_length 1k;

    gzip_buffers 4 16k;

    gzip_comp_level 2;

    gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/javascript application/x-httpd-php image/jpeg image/gif image/png;

    gzip_vary off;

    gzip_disable &quot;MSIE [1-6]\.&quot;;

    include       mime.types;

    default_type  application/octet-stream;

    sendfile	on;

    tcp_nopush	on;

    keepalive_timeout	65;

    server {
        listen       80;
        server_name  localhost;

        location / {
            root   html;
            index  index.html index.htm;
        }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }

    # halo
    server {
        listen  80;
        listen  443 ssl;

	# 需要监听的域名 根据自己的域名进行配置(不需要带 http:// 或 https://)
        server_name 域名地址;

	# nginx 1.15 版本之后忽略 ssl 自动开启，小于1.15版本解开注释，大于1.15版本解开注释会报错（根据本文安装的 nginx 版本为 1.19.10 不需要接口注释）
	#ssl on;

	# 请根据自己的 ssl cert 地址配置
        ssl_certificate /etc/ssl/cert.pem;

	# 请根据自己的 ssl key 地址配置
        ssl_certificate_key /etc/ssl/key.pem;

        ssl_session_timeout 5m;

        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;

        ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;

        ssl_prefer_server_ciphers on;

        # 引用 pagespeed.conf 配置
        include pagespeed.conf;

        location / {
            proxy_pass http://127.0.0.1:8090;
        }
    }

}
</code></pre></div><h6 id="_9-启动-nginx"><a href="#_9-启动-nginx" class="header-anchor">#</a> 9. 启动 nginx</h6> <blockquote><p>已经配置过 nginx.service 可直接执行 systemctl 命令。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>sudo systemctl start nginx.service
</code></pre></div><blockquote><p>其他命令。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code># 启动
systemctl start nginx.service

# 重启
systemctl restart nginx.service

# 关闭
systemctl stop nginx.service

# 设置开机启动
systemctl enable nginx.service

# 关闭开机启动
systemctl disable nginx.service

# 查看运行状态
systemctl status nginx.service

# 查看所有已启动的服务
systemctl list-units --type=service
</code></pre></div><h6 id="_10-配置-nginx-全局命令"><a href="#_10-配置-nginx-全局命令" class="header-anchor">#</a> 10. 配置 nginx 全局命令</h6> <blockquote><p>由于 ngx_pagespeed 的原因 nginx 只能手动编译安装，所以区别于自动安装版，需要手动配置全局命令。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>vim /etc/init.d/nginx
</code></pre></div><blockquote><p>复制下方配置，右键粘贴到 nginx 中，<code>:wq</code> 保存。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>#!/bin/sh
# nginx - this script starts and stops the nginx daemin
#
# chkconfig:   - 85 15

# description:  Nginx is an HTTP(S) server, HTTP(S) reverse \
#               proxy and IMAP/POP3 proxy server

# processname: nginx
# config:      /usr/local/nginx/conf/nginx.conf
# pidfile:     /usr/local/nginx/logs/nginx.pid

# Source function library.

. /etc/rc.d/init.d/functions

# Source networking configuration.

. /etc/sysconfig/network

# Check that networking is up.

[ &quot;$NETWORKING&quot; = &quot;no&quot; ] &amp;&amp; exit 0

nginx=&quot;/usr/local/nginx/sbin/nginx&quot;

prog=$(basename $nginx)

NGINX_CONF_FILE=&quot;/usr/local/nginx/conf/nginx.conf&quot;

lockfile=/var/lock/subsys/nginx

start() {

    [ -x $nginx ] || exit 5

    [ -f $NGINX_CONF_FILE ] || exit 6

    echo -n $&quot;Starting $prog: &quot;

    daemon $nginx -c $NGINX_CONF_FILE

    retval=$?

    echo

    [ $retval -eq 0 ] &amp;&amp; touch $lockfile

    return $retval

}

stop() {

    echo -n $&quot;Stopping $prog: &quot;

    killproc $prog -QUIT

    retval=$?

    echo

    [ $retval -eq 0 ] &amp;&amp; rm -f $lockfile

    return $retval

}

restart() {

    configtest || return $?

    stop

    start

}

reload() {

    configtest || return $?

    echo -n $&quot;Reloading $prog: &quot;

    killproc $nginx -HUP

    RETVAL=$?

    echo

}

force_reload() {

    restart

}

configtest() {

  $nginx -t -c $NGINX_CONF_FILE

}


rh_status() {

    status $prog

}

rh_status_q() {

    rh_status &gt;/dev/null 2&gt;&amp;1

}

case &quot;$1&quot; in

    start)

        rh_status_q &amp;&amp; exit 0
        $1
        ;;

    stop)

        rh_status_q || exit 0
        $1
        ;;

    restart|configtest)
        $1
        ;;

    reload)
        rh_status_q || exit 7
        $1
        ;;

    force-reload)
        force_reload
        ;;
    status)
        rh_status
        ;;

    condrestart|try-restart)

        rh_status_q || exit 0
            ;;
    *)

        echo $&quot;Usage: $0 {start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest}&quot;
        exit 2

esac
</code></pre></div><blockquote><p>新建 nginx 文件。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>cd /etc/init.d &amp;&amp; chmod 755 /etc/init.d/nginx &amp;&amp; chkconfig --add nginx
</code></pre></div><blockquote><p>修改 profile 配置文件。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>vim /etc/profile
</code></pre></div><blockquote><p>复制下方配置，按 <code>i</code> 键 插入，右键粘贴到 profile 中最下方，按 <code>esc</code> 键后输入 <code>:wq</code> 保存。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>PATH=$PATH:/usr/local/nginx/sbin
export PATHi
</code></pre></div><blockquote><p>重载 profile 配置。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>source /etc/profile
</code></pre></div><blockquote><p>nginx 命令使用。</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>nginx -h 查看帮助选项
nginx -v 查看版本和配置选项
nginx -t 测试 nginx.conf 语法错误
nginx -c filename 指定配置文件(安装版 默认 /etc/nginx/nginx.conf, 手动安装版 默认 /usr/local/nginx/conf/nginx.conf)
nginx -s signal 发送信号到 master 进程

# 启动
nginx

# 优雅停止 （完成所有连接请求）
nginx -s quit

# 停止 （强制退出）
nginx -s stop

# 重启
nginx -s reopen

# 重载配置文件
nginx -s reload
</code></pre></div><h2 id="完结"><a href="#完结" class="header-anchor">#</a> 完结</h2> <blockquote><p><a href="https://developers.google.cn/speed/pagespeed/insights" target="_blank" rel="noopener noreferrer">还不测试一下性能，开始下一波的折腾？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/src/basic/doc.html">
        简介
      </a>
      →
    </span></p></div> </main> <div class="toolbar"><div class="barbox catalog"><i class="bx bx-message-square-detail"></i></div> <div class="barbox catalog"><i class="bx bx-message-square-dots"></i></div> <div class="barbox catalog"><i class="bx bxl-github"></i></div> <div class="barbox catalog"><i class="bx bx-dots-horizontal-rounded"></i></div></div></div><div class="global-ui"><div class="up" data-v-d73fddfa data-v-d73fddfa></div></div></div>
    <script src="/assets/js/app.79790c22.js" defer></script><script src="/assets/js/3.b757694c.js" defer></script><script src="/assets/js/7.595dcd2c.js" defer></script>
  </body>
</html>
